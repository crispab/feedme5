<head>
    <title>feedme5</title>
</head>

<body>
    {{> shoppingList}}
</body>

<template name="shoppingList">
    <h1>FeedMe</h1>
    <ul>
    <li {{#if adminMode}}class="selected"{{/if}}><a href="#" id="admin">Admin</a></li>
    <li {{#unless adminMode}}class="selected"{{/unless}}><a href="#" id="shoppingList">Shopping List</a></li>
    </ul>
    {{#if adminMode}}
        {{> adminView}}
    {{else}}
        {{> shoppingView}}
    {{/if}}
</template>

<template name="adminView">
    <h2>Admin</h2>
    <ul>
    <li {{#if adminDbMode}}class="selected"{{/if}}><a href="#" id="adminDb">DB</a></li>
    <li {{#unless adminDbMode}}class="selected"{{/unless}}><a href="#" id="adminStores">Stores</a></li>
    </ul>
    {{#if adminDbMode}}
        {{> dbView }}
    {{else}}
        {{> storeView }}
    {{/if}}
</template>

<template name="dbView">
    <input type="text" placeholder="new item"/>
    <ul>
    {{#each list}}
        {{> dbItem}}
    {{/each}}
    </ul>
</template>
<template name="dbItem">
    <li><input type="checkbox" name="included" {{#if included}}checked{{/if}} ><span onclick="void(0)" class="name">{{name}}</span> <span onclick="void(0)" class="del">[del]</span></li>
</template>

<template name="storeView">
    <h3>Coop</h3>
    <ul data-sortable="true">
    {{#each list}}
        <li data-id="{{_id}}">{{name}}</li>
    {{/each}}
    </ul>
</template>

<template name="shoppingView">
    <h2>Shopping List</h2>
    <ul>
    {{#each list}}
        {{> shoppingItem}}
    {{/each}}
    </ul>
</template>

<template name="shoppingItem">
    <li>
        <span onclick="void(0)" class="name {{#if checked}}checked{{/if}}" >{{name}}</span>
        <span onclick="void(0)" class="del">[del]</span>
    </li>
</template>